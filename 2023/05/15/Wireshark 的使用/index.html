

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/shizhuofan.GitHub.io/img/fluid.png">
  <link rel="icon" href="/shizhuofan.GitHub.io/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Fars">
  <meta name="keywords" content="">
  
    <meta name="description" content="目录 一、 相关原理知识……………………………………………………………………………………………. 3 二、 具体实验流程……………………………………………………………………………………………. 3 (1)、 wireshark的使用…………………………………………………………………………………. 3 (2)、HTTP分析…………………………………………………………………………………………… 6 (">
<meta property="og:type" content="article">
<meta property="og:title" content="Wireshark 的使用">
<meta property="og:url" content="http://yoursite.com/2023/05/15/Wireshark%20%E7%9A%84%E4%BD%BF%E7%94%A8/index.html">
<meta property="og:site_name" content="Fars&#39;Blog">
<meta property="og:description" content="目录 一、 相关原理知识……………………………………………………………………………………………. 3 二、 具体实验流程……………………………………………………………………………………………. 3 (1)、 wireshark的使用…………………………………………………………………………………. 3 (2)、HTTP分析…………………………………………………………………………………………… 6 (">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040123.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040119.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040139.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040145.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040009.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040019.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040133.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040177.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040480.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040539.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040860.jpg">
<meta property="og:image" content="file:///C:/Users/86189/AppData/Local/Temp/msohtmlclip1/01/clip_image026.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040920.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040239.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040571.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040772.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040951.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040155.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040235.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040525.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040589.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040234.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040237.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040338.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040580.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040722.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040796.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040033.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040218.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040538.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040600.jpg">
<meta property="og:image" content="file:///C:/Users/86189/AppData/Local/Temp/msohtmlclip1/01/clip_image064.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040765.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040063.jpg">
<meta property="og:image" content="file:///C:/Users/86189/AppData/Local/Temp/msohtmlclip1/01/clip_image068.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040324.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040395.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040579.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040746.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040934.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040180.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040553.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040562.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040626.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040675.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040075.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040255.gif">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040318.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040544.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040825.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040901.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040247.gif">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040397.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040481.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040902.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040951.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040016.gif">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040166.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040506.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040568.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040691.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040993.jpg">
<meta property="og:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040193.jpg">
<meta property="article:published_time" content="2023-05-15T03:42:26.000Z">
<meta property="article:modified_time" content="2023-05-15T12:40:50.534Z">
<meta property="article:author" content="Fars">
<meta property="article:tag" content="计算机网络">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040123.jpg">
  
  
  
  <title>Wireshark 的使用 - Fars&#39;Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/shizhuofan.GitHub.io/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/shizhuofan.GitHub.io/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/shizhuofan.GitHub.io/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"yoursite.com","root":"/shizhuofan.GitHub.io/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/shizhuofan.GitHub.io/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/shizhuofan.GitHub.io/js/utils.js" ></script>
  <script  src="/shizhuofan.GitHub.io/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/shizhuofan.GitHub.io/">
      <strong>Fars个人博客</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/shizhuofan.GitHub.io/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/shizhuofan.GitHub.io/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/shizhuofan.GitHub.io/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/shizhuofan.GitHub.io/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/shizhuofan.GitHub.io/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/shizhuofan.GitHub.io/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Wireshark 的使用"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-05-15 11:42" pubdate>
          2023年5月15日 中午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          11k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          91 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Wireshark 的使用</h1>
            
            
              <div class="markdown-body">
                
                <p>目录</p>
<p><a href="#_Toc5551">一、 相关原理知识……………………………………………………………………………………………. 3</a></p>
<p><a href="#_Toc26745">二、 具体实验流程……………………………………………………………………………………………. 3</a></p>
<p><a href="#_Toc28949">(1)、 wireshark的使用…………………………………………………………………………………. 3</a></p>
<p><a href="#_Toc24133">(2)、HTTP分析…………………………………………………………………………………………… 6</a></p>
<p><a href="#_Toc9179">(3)、TCP分析…………………………………………………………………………………………….. 9</a></p>
<p><a href="#_Toc1299">(4)、IP分析………………………………………………………………………………………………. 16</a></p>
<p><a href="#_Toc32561">(5)、ARP分析…………………………………………………………………………………………… 22</a></p>
<p><a href="#_Toc23672">(6)、UDP分析…………………………………………………………………………………………… 25</a></p>
<p><a href="#_Toc13036">（7）利用 WireShark 进行 DNS 协议分析……………………………………………………. 28</a></p>
<p><a href="#_Toc12583">（8）利用 Wireshark 分析 Ethernet 数据帧……………………………………………………. 31</a></p>
<table>
<thead>
<tr>
<th>实验目的：</th>
</tr>
</thead>
<tbody><tr>
<td>熟悉并掌握 Wireshark 的基本操作  了解网络协议实体间进行交互以及报文交换的情况。</td>
</tr>
<tr>
<td>实验内容：</td>
</tr>
<tr>
<td>1) 学习 Wireshark 的使用   2) 利用 Wireshark 分析 HTTP 协议   3) 利用 Wireshark 分析 TCP 协议   4) 利用 Wireshark 分析 IP 协议   5) 利用 Wireshark 分析 Ethernet 数据帧   选做内容：   a) 利用 Wireshark 分析 DNS 协议   b) 利用 Wireshark 分析 UDP 协议   c) 利用 Wireshark 分析 ARP 协议</td>
</tr>
<tr>
<td>实验过程：</td>
</tr>
<tr>
<td>一、  相关原理知识  <strong>分组嗅探器：</strong>  观察在正在运行协议实体间交换报文的基本工具被称为分组嗅探   器（packet sniffer）。顾名思义，一个分组嗅探器俘获（嗅探）计算机发   送和接收的报文。一般情况下，分组嗅探器将存储和显示出被俘获报文   的各协议头部字段的内容。图 6-1 为一个分组嗅探器的结构  <strong>Wireshark****：</strong>  Wireshark 是一种可以运行在 Windows, UNIX, Linux 等操作系统上的分组分 析器。     二、 具体实验流程     (1)、 wireshark的使用     本机IPV4: 172.20.69.163  本机ipv6:2001:250:fe01:130:b5a7:7d2c:ed7b:abe2  本机MAC:9C-FC-E8-30-6E-f7  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040123.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">     Ø启动主机上的 web 浏览器。   Ø启动 Wireshark。你会看到如图 6-2 所示的窗口，只是窗口中没有   任何分组列表。   Ø开始分组俘获：选择“capture”下拉菜单中的“Capture Options”命   令，会出现如图 6-3 所示的“Wireshark: Capture Options”窗口，可   以设置分组俘获的选项  Ø开始分组俘获后，会出现如图 6-5 所示的窗口。该窗口统计显示   各类已俘获数据包。在该窗口的工具栏中有一个“stop”按钮，可以   停止分组的俘获。但此时你最好不要停止俘获分组。   Ø在运行分组俘获的同时，在浏览器地址栏中输入某网页的 URL，   如：<a target="_blank" rel="noopener" href="http://www.hit.edu.cn.为显示该网页,浏览器需要连接/">http://www.hit.edu.cn。为显示该网页，浏览器需要连接</a>   <a target="_blank" rel="noopener" href="http://www.hit.edu.cn/">www.hit.edu.cn</a> 的服务器，并与之交换 HTTP 消息，以下载该网页。   包含这些 HTTP 报文的以太网帧将被 Wireshark 俘获。   Ø当完整的页面下载完成后，单击 Wireshark 菜单栏中的 stop 按钮，   停止分组俘获。Wireshark 主窗口显示已俘获的你的计算机与其他   网络实体交换的所有协议报文，其中一部分就是与 <a target="_blank" rel="noopener" href="http://www.hit.edu.cn/">www.hit.edu.cn</a>   服务器交换的 HTTP 报文。此时主窗口与图 6-3 相似。   Ø在显示筛选规则中输入“http”，单击“回车”，分组列表窗口将只显   示 HTTP 协议报文。   <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040119.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">     <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040139.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040145.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="2"></td>
</tr>
<tr>
<td>实验结果：</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>(2)、HTTP分析  <strong>1.</strong>     <strong>HTTP GET&#x2F;response****交互</strong>  ²启动 Web browser，然后启动 Wireshark 分组嗅探器。在窗口的显   示过滤说明处输入“http”，分组列表子窗口中将只显示所俘获到的   HTTP 报文。   ²开始 Wireshark 分组俘获。   ²在打开的 Web browser 窗 口 中 输 入 一 下 地 址 ：   <a target="_blank" rel="noopener" href="http://cs.hit.edu.cn/">http://cs.hit.edu.cn</a>  ²停止分组俘获。   <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040009.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1">  <strong>²****你的浏览器运行的是</strong> <strong>HTTP1.0****，还是</strong> <strong>HTTP1.1****？你所访问的服务</strong>   <strong>器所运行</strong> <strong>HTTP</strong> <strong>协议的版本号是多少？</strong>   浏览器运行HTTP1.1  服务器运行HTTP1.1  <strong>²****你的浏览器向服务器指出它能接收何种语言版本的对象？</strong>   Accept: (简体中文)Zh-CN,zh;q&#x3D;0.9&#x2F;r&#x2F;n  <strong>²****你的计算机的</strong> <strong>IP</strong> <strong>地址是多少？</strong>  本机IPV4:  172.20.69.163  <strong>服务器</strong> <strong><a target="_blank" rel="noopener" href="http://cs.hit.edu.cn/">http://cs.hit.edu.cn/</a></strong> <strong>的</strong> <strong>IP</strong> <strong>地址是多少？</strong>   服务器IP地址219.217.226.17  <strong>²****从服务器向你的浏览器返回的状态代码是多少？</strong>  200 OK 表示请求成功，信息在返回的报文里  (若后续再次刷新则可能会有304，代表读取缓存）              <strong>2.</strong>    <strong>HTTP</strong> <strong>条件</strong> <strong>GET&#x2F;response</strong> <strong>交互</strong>  ²启动浏览器，清空浏览器的缓存（在浏览器中，选择“工具”菜单   中的“Internet 选项”命令，在出现的对话框中，选择“删除文件”）。   ²启动 Wireshark 分组俘获器。开始 Wireshark 分组俘获。   ²在浏览器的地址栏中输入以下 URL: <a target="_blank" rel="noopener" href="http://cs.hit.edu.cn/%E5%92%8Chttp://example.com,%E5%9C%A8">http://cs.hit.edu.cn/和http://example.com,在</a> 你的浏览器中重新输入相同的 URL 或单击浏览器中的“刷新”按   钮。   ²停止 Wireshark 分组俘获，在显示过滤筛选说明处输入“http”,分组   列表子窗口中将只显示所俘获到的 HTTP 报文。      根据俘获窗口内容，思考以下问题：   <strong>²****分析你的浏览器向服务器发出的第一个</strong> <strong>HTTP GET</strong> <strong>请求的内容，</strong>   <strong>在该请求报文中，是否有一行是：<strong><strong>IF-MODIFIED-SINCE</strong></strong>？</strong>   第一个HTTP GET请求报文中都没有IF-MODIFIED-SINCE  <a target="_blank" rel="noopener" href="http://cs.hit.edu/cn%EF%BC%9A">http://cs.hit.edu/cn：</a>  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040019.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  <strong>²****分析服务器响应报文的内容，服务器是否明确返回了文件的内</strong>   <strong>容？如何获知？</strong>      服务器在第一个GET请求之后，给出的第一个响应，响应码为200 OK代表成功，而响应报文中明确的返回了该网页需要哪些内容  获知方式是通过返回了一段 HTML  标记码，包括了网页的文本。  （如果此时返回的响应码为404，则代表内容不存在不会返回文件内容）  服务器在第一个GET中返回了文件的内容如下。可以看出服务器返回的文件内容是用来构成主页HTML的其他元素  如下图访问<a target="_blank" rel="noopener" href="http://cs.hit.edu/cn%EF%BC%8C%E6%AF%94%E5%A6%82/_css/_system/ssystem.css%E4%BB%A3%E8%A1%A8%E8%A6%81%E6%98%8E%E7%A1%AE%E8%BF%94%E5%9B%9E%E8%BF%99%E4%B8%AAcss%E5%86%85%E5%AE%B9%EF%BC%9A">http://cs.hit.edu/cn，比如/_css/_system/ssystem.css代表要明确返回这个css内容：</a>  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040133.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1">  <strong>²<strong><strong>分析你的浏览器向服务器发出的较晚的</strong></strong>“HTTP GET”****请求，在该请</strong>   <strong>求报文中是否有一行是：<strong><strong>IF-MODIFIED-SINCE</strong></strong>？如果有，在该首</strong>   <strong>部行后面跟着的信息是什么？</strong>      较晚的GET请求拥有一行IF-MODIFIED-SINCE。  后面跟着的信息是浏览器缓存网页最后一次修改时间  If-Modified-Since是标准的HTTP请求头标签，在发送HTTP请求时，把浏览器端缓存页面的最后修改时间一起发到服务器去，服务器会把这个时间与服务器上实际文件的最后修改时间进行比较。  如下图访问<a href="http://example.com，比如标记了IF-MODIFIED-SINCE:Thu">http://example.com，比如标记了IF-MODIFIED-SINCE:Thu</a>,  17 Oct 2019 07:18:26 GMT&#x2F;r&#x2F;n：  代表浏览器缓存最后修改时间为2019年07:18:26  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040177.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1">  <strong>²****服务器对较晚的</strong> <strong>HTTP GET</strong> <strong>请求的响应中的</strong> <strong>HTTP</strong> <strong>状态代码是多</strong>   <strong>少？服务器是否明确返回了文件的内容？请解释</strong>  出现响应码304的响应,服务器不会明确返回文件内容  因为如果当服务器检测IF-MODIFIED-SINCE和Last-Modified一致没有变化  则返回响应码304，客户端可以使用本地仍为最新版本的缓存文件     如果客户端发送了一个带条件的GET  请求且该请求已被允许，而文档的内容（自上次访问以来或者根据请求的条件）并没有改变，则服务器应当返回这个304状态码。简单的表达就是：服务端已经执行了GET，但文件未变化     如下图访问<a href="http://example.com，比如标记了Last-Modified:Thu">http://example.com，比如标记了Last-Modified:Thu</a>, 17  Oct 2019 07:18:26 GMT&#x2F;r&#x2F;n，发现和IF-MODIFIED-SINCE是一致的所以可以直接读取缓存返回304  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040480.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="响应码304">                 (3)、TCP分析  注：访问以下网址需要设置代理服务器。如无法访问可与实验 TA   联系，下载 tcp-Wireshark-trace 文件，利用该文件进行 TCP 协议分析。   A. 俘获大量的由本地主机到远程服务器的 TCP 分组   （1） 启动浏览器，打开<strong><a target="_blank" rel="noopener" href="http://gaia.cs.umass.edu/wireshark-labs/alice.txt">http://gaia.cs.umass.edu/wireshark-labs/alice.txt</a></strong>  网页，得到ALICE’S ADVENTURES IN WONDERLAND文本，   将该文件保存到你的主机上。   （2） 打开<strong><a target="_blank" rel="noopener" href="http://gaia.cs.umass.edu/wireshark-labs/TCP-wireshark-file1.html">http://gaia.cs.umass.edu/wireshark-labs/TCP-wireshark-file1.html</a></strong>  ，   如图6-6所示，窗口如下图所示。在Browse按钮旁的文本框中   输入保存在你的主机上的文件ALICE’S ADVENTURES IN   WONDERLAND的全 名（含路径），此时不要按 “Upload   alice.txt file”按钮。   图6-6 Wireshark-labs网页截图   （3） 启动Wireshark，开始分组俘获。   （4） 在浏览器中，单击“Upload alice.txt file”按钮，将文件上传到   gaia.cs.umass.edu服务器，一旦文件上传完毕，一个简短的贺   词信息将显示在你的浏览器窗口中。   （5） 停止俘获。   B. 浏览追踪信息   在显示筛选规则中输入“tcp”,可以看到在本地主机和服务器之间   传输的一系列 tcp 和 http 报文，你应该能看到包含 SYN 报文的三次握手。   也可以看到有主机向服务器发送的一个 HTTP POST 报文和一系列的   “http continuation”报文。  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040539.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  <strong>Ø****向</strong> <strong>gaia.cs.umass.edu</strong> <strong>服务器传送文件的客户端主机的</strong> <strong>IP</strong> <strong>地址和</strong>   <strong>TCP</strong> <strong>端口号是多少？</strong>   <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040860.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  客户端IP：172.20.13.195  TCP端口号:8394  <strong>Ø****Gaia.cs.umass.edu</strong> <strong>服务器的</strong> <strong>IP</strong> <strong>地址是多少？对这一连接，它用来</strong>   <strong>发送和接收</strong> <strong>TCP</strong> <strong>报文的端口号是多少？</strong>   <img src="file:///C:/Users/86189/AppData/Local/Temp/msohtmlclip1/01/clip_image026.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  服务器IP地址：128.119.245.12  发送TCP端口号80  接收TCP端口号80  <strong>Ø****客户服务器之间用于初始化</strong> <strong>TCP</strong> <strong>连接的</strong> <strong>TCP SYN</strong> <strong>报文段的序号</strong>   <strong>（<strong><strong>sequence number</strong></strong>）是多少？在该报文段中，是用什么来标示该</strong>   <strong>报文段是</strong> <strong>SYN</strong> <strong>报文段的？</strong>   <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040920.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  初始化 TCP 连接的 TCP SYN 报文段的序号Seq是 0。  在该报文段中，通过设置Flags中的SYN位为1，来表示该报文段是  SYN 报文段。        Ø服务器向客户端发送的 SYNACK 报文段序号是多少？该报文段   中，Acknowledgement 字段的值是多少？Gaia.cs.umass.edu 服务器  是如何决定此值的？在该报文段中，是用什么来标示该报文段是   SYNACK 报文段的？   <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040239.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1">     SYNACK报文段序号Seq为0  Acknowledge字段的值是1，Gaia.cs.umass.edu服务器通过客户端发来的SYN请求报文段的seq序号（0）加1来决定Acknowledge值  通过flags中的SYN与ACK都标记为1，来表示这个报文段是SYNACK  Ø<strong>你能从捕获的数据包中分析出</strong> <strong>tcp</strong> <strong>三次握手过程吗？</strong>   <strong><img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040571.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1"></strong>  <strong>一次握手</strong>：客户端发送带有 SYN 标志的连接请求数据包给服务端，Seq&#x3D;0  <strong>二次握手</strong>：服务端发送带有 SYN+ACK 标志的连接请求和应答数据包给客户端，Seq&#x3D;0.Ack根据客户端之前发来的seq&#x3D;0加上1得到ack&#x3D;1  <strong>三次握手</strong>：客户端发送带有 ACK 标志的应答数据包给服务端(可以携带数据了)，seq&#x3D;1，ack根据服务器发来的seq&#x3D;0加上1得到ack&#x3D;1  <strong>Ø****包含</strong> <strong>HTTP POST</strong> <strong>命令的</strong> <strong>TCP</strong> <strong>报文段的序号是多少？</strong>   三次握手后的第一份PSH，ACK  序号是1  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040772.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040951.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1">  <strong>Ø****如果将包含</strong> <strong>HTTP POST</strong> <strong>命令的</strong> <strong>TCP</strong> <strong>报文段看作是</strong> <strong>TCP</strong> <strong>连接上的</strong>   <strong>第一个报文段，那么该</strong> <strong>TCP</strong> <strong>连接上的第六个报文段的序号是多</strong>   <strong>少？是何时发送的？该报文段所对应的</strong> <strong>ACK</strong> <strong>是何时接收的？</strong>   <strong><img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040155.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1"></strong>  第六个报文段序号6252  发送时间：  第一个报文段发送时间：15:33:52.905015000  第六个报文段发送时间：15:33:52.905116000  则TCP 连接上的第六个报文段在第一个报文段发送0.00101s之后发送,在  HTTP POST 发送之前，TCP连接建立之后发送     <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040235.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">     <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040525.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  <strong><img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040589.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1"></strong>  寻找接收ACK&#x3D;6252的报文  第六个对应的ACK接收时间为15:33:53.180610000，第六个报文段发送时间：15:33:52.905116000  即第六个报文段发送0.275494后对应的ACK被接收  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040234.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040237.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  <strong>Ø****前六个</strong> <strong>TCP</strong> <strong>报文段的长度各是多少？</strong>   <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040338.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1">  前六个长度各自为  707,1386,1386,1386,1386,1386  <strong>Ø****在整个跟踪过程中，接收端公示的最小的可用缓存空间是多少？</strong>   <strong>限制发送端的传输以后，接收端的缓存是否仍然不够用？</strong>   接收端公示的最小的可用缓存空间是39168，  窗口大小整体递增，接收端的缓存足够用  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040580.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1">  <strong>Ø****在跟踪文件中是否有重传的报文段？进行判断的依据是什么？</strong>   没有出现重传，因为客户端发送的报文序列号1,708,2094,3480,4866,6252…..没有出现重复的情况。  如果重传报文段则会有报文序列号重复  <strong>Ø****TCP</strong> <strong>连接的</strong> <strong>throughput  (bytes transferred per unit time)<strong><strong>是多少？请</strong>   <strong>写出你的计算过程。</strong>   总共传输数据的字节数为153029-1&#x3D;153028B  所用时间为1.547496-0.178179（第一次握手）&#x3D;1.369317秒  吞吐量throughput&#x3D;153028B&#x2F;1.369317秒&#x3D;111,754.9844192397B&#x2F;s。     第一个报文（第一次握手）  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040722.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1">最后一个报文  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040796.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1">                 (4)、IP分析     （1） 启动 Wireshark 并开始数据包捕获   （2） 启动 pingplotter 并“Address to Trace  Window”域中输入目的地址。   在“# of times to Trace”域中输入“3”，这样就不过采集过多的数据。   Edit-&gt;Options-&gt;Packet，将 Packet Size(in bytes,default&#x3D;56)域设为 56，这   样将发送一系列大小为 56 字节的包。然后按下“Trace”按钮。得到的   pingplotter 窗口如图 6-7 所示        （1） Edit-&gt;Options-&gt;Packet，然后将 Packet Size(in bytes,default&#x3D;56)   域改为 2000，这样将发送一系列大小为 2000 字节的包。然后按下   “Resume”按钮。   （2） 最后，将 Packet Size(in bytes,default&#x3D;56)域改为 3500，发送一   系列大小为 3500 字节的包。然后按下“Resume”按钮。   （3） 停止 Wireshark 的分组捕获。      <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040033.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">     <strong>Ø</strong> <strong>你主机的</strong></strong>IP<strong><strong>地址是什么？</strong>   本机IPV4:  172.20.37.162（启动另一台主机进行IP实验）  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040218.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  <strong>Ø</strong> <strong>在</strong></strong>IP<strong><strong>数据包头中，上层协议（</strong></strong>upper layer<strong><strong>）字段的值是什么？</strong>   上层协议（upper layer）字段是ICMP：1  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040538.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1">     <strong>Ø</strong> <strong>IP</strong></strong>头有多少字节？该<strong><strong>IP</strong></strong>数据包的净载为多少字节？并解释你是怎**   <strong>样确定</strong>   IP头字节20byte  IP数据包净载36byte  Total Length-Header Length&#x3D;数据包净载36byte  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040600.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1">     <strong>Ø</strong> <strong>该<strong><strong>IP</strong></strong>数据包的净载大小的？</strong>   IP数据包净载36byte     <img src="file:///C:/Users/86189/AppData/Local/Temp/msohtmlclip1/01/clip_image064.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1">  Ø 该IP数据包分片了吗？解释你是如何确定该数据包是否进行了    进行了分片  查看标志为MF&#x3D;1，代表进行了分片    <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040765.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1">     （2）单击Source列按钮，这样将对捕获的数据包按源IP地址排序。   选择第一个你的主机发出的ICMP Echo Request消息，在packet details窗   口展开数据包的Internet Protocol部分。在“listing of captured packets”窗口，   你会看到许多后续的ICMP消息（或许还有你主机上运行的其他协议的数    据包）  思考下列问题：   <strong>Ø</strong> <strong>你主机发出的一系列<strong><strong>ICMP</strong></strong>消息中<strong><strong>IP</strong></strong>数据报中哪些字段总是发生</strong>   <strong>改变？</strong>   Time to Live、  Identification、  Header Checksum  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040063.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1">  <strong>Ø</strong> <strong>哪些字段必须保持常量？哪些字段必须改变？为什么？</strong>   <strong>保持常量</strong>：版本号、上层协议、源IP地址和目的IP地址  <strong>原因</strong>：想要成功让数据包从源地址发送到目的地址，版本号需要固定不变，上层协议也是固定的，源IP地址和目的IP地址也不会在过程中改变     <strong>必须改变</strong>：Identification，TTL，checknum  <strong>原因</strong>：Identification是IP数据包的序号，每个包的序号都不同，用于区分不同的数据包  TTL是记录存活时间当经过路由器时候都会使得TTL+1  checknum校验和是根据头部数据经过计算得到的，不同包的校验和一般不一样  <img src="file:///C:/Users/86189/AppData/Local/Temp/msohtmlclip1/01/clip_image068.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1">  <strong>Ø</strong> <strong>描述你看到的<strong><strong>IP</strong></strong>数据包<strong><strong>Identification</strong></strong>字段值的形式。</strong>   Identification占16位bit，两个字节byte  Identification加一递增     （3）找到由最近的路由器（第一跳）返回给你主机的  ICMP   Time-to-live exceeded消息。   思考下列问题：   <strong>Ø</strong> <strong>Identification<strong><strong>字段和</strong></strong>TTL****字段的值是什么？</strong>   Identification&#x3D;0x0000  TTL&#x3D;255     <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040324.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">     <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040395.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1">           <strong>Ø</strong> <strong>最近的路由器（第一跳）返回给你主机的****ICMP Time-to-live</strong>   <strong>exceeded****消息中这些值是否保持不变？为什么？</strong>      <strong>结果：</strong>  最近的路由器（第一跳）返回给你主机的ICMP Time-to-live exceeded消息中  TTL保持不变，Identification字段不断改变  <strong>原因</strong>：第一跳路由器设置TTL字段为RFC指定的值，因此始终保持不变；  在同一跳，Identification用于区分不同的IP数据包，标识每一个IP字段，是唯一的，因此不断改变。     （4）单击Time列按钮，这样将对捕获的数据包按时间排序。找到在   将包大小改为2000字节后你的主机发送的第一个ICMP Echo Request消   息。   <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040579.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1">  思考下列问题：   Ø 该消息是否被分解成不止一个IP数据报？   分解成了2个IP数据报     <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040746.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  Ø 观察第一个IP分片，IP头部的哪些信息表明数据包被进行了分   片？IP头部的哪些信息表明数据包是第一个而不是最后一个分    片？该分片的长度是多少   More fragments位被置为1表明进行了分片  Flags标识位中，More fragments位被置为1，表示其被分片，但不是最后一个分片。  该分片总长度1500B，头部长度20B，数据长度1480B  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040934.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1">  C. 找到在将包大小改为3500字节后你的主机发送的第一个ICMP   Echo Request消息。   <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040180.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  思考下列问题：   Ø原始数据包被分成了多少片？   分成了3片  各自数据分片为1480,1480,520  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040553.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1">  Ø这些分片中IP数据报头部哪些字段发生了变化？   发生变化：     Total length：随着分片长度变化而变化     片偏移量：随着分片产生变化而变化，第一片的分片offset&#x3D;0,第二片的分片的 offset 为1480，最后一片为2960     标志位：前两片的 MF 位均为1，而最后一片MF为0；       Checksum:随着分片内容变化而变化  (5)、ARP分析  （1）利用 MS-DOS 命令：arp 或 c:\windows\system32\arp  查看主机   上 ARP 缓存的内容。   （2）在命令行模式下输入：ping 172.20.45.246（或其他 IP 地址）   （3）启动 Wireshark，开始分组俘获。抓取的数据包  思考下面问题：  <strong>（<strong><strong>1</strong></strong>）利用</strong> <strong>MS-DOS</strong> <strong>命令：****arp</strong> <strong>或</strong> <strong>c:\windows\system32\arp</strong> <strong>查看主机</strong>   <strong>上</strong> <strong>ARP</strong> <strong>缓存的内容。说明</strong> <strong>ARP</strong> <strong>缓存中每一列的含义是什么</strong>**?</strong>   <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040562.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  ARP缓存中第一列为接口的IP地址，第二列为接口的（物理地址）MAC地址，第三列为地址的类型，动态配置或静态配置。     （2）清除主机上 ARP 缓存的内容,抓取 ping 命令时的数据包。  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040626.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040675.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  （3）分析数据包回答下面的问题：      <strong>Ø<strong><strong>ARP</strong></strong>数据包的格式是怎样的？由几部分构成，各个部分所占的字</strong>   <strong>节数是多少？</strong>  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040075.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040255.gif" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="2">  其由9部分构成，分别是：             硬件类型            2字节                  协议类型            2字节                  硬件地址长度            6字节                  协议长度            4字节                  操作类型            2字节                  发送方MAC地址            6字节                  发送方IP地址            4字节                  目标MAC地址            6字节                  目标IP地址            4字节              <strong>Ø<strong><strong>如何判断一个</strong></strong>ARP****数据是请求包还是应答包？</strong>   根据操作类型字段判断  查看OP字段             OP为0x0001            ARP数据为请求包                  OP为0x0002            ARP数据是应答包           <strong><img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040318.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1"></strong>  <strong>Ø<strong><strong>为什么</strong></strong>ARP<strong><strong>查询要在广播帧中传送，而</strong></strong>ARP****响应要在一个有着明</strong>   <strong>确目的局域网地址的帧中传送？</strong>   原因：     在最初进行ARP查询时候发送主机不知道目的IP对应的MAC地址，所以ARP查询要使用广播查询在局域网内。     而ARP响应报文明确知道发起查询的主机MAC地址并且这次的查询结果只有该发起查询的主机需要，因此ARP响应要在一个有着明确目的局域网地址的帧中传送     (6)、UDP分析  （1）启动 Wireshark，开始分组捕获；   （2）发送 QQ 消息给你的好友；   （3）停止 Wireshark 组捕获；   （4）在显示筛选规则中输入“udp”并展开数据包的细节，如图 6-14   所示。   <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040544.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  分析 QQ 通讯中捕获到的 UDP 数据包。根据操作思考以下问题：   <strong>Ø<strong><strong>消息是基于</strong></strong>UDP<strong><strong>的还是</strong></strong>TCP****的？</strong>   基于UDP的  <strong>Ø<strong><strong>你的主机</strong></strong>ip<strong><strong>地址是什么？目的主机</strong></strong>ip****地址是什么？</strong>   <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040825.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  我的主机ip:172.20.45.246  目的主机ip:39.156.132.122  <strong>Ø<strong><strong>你的主机发送</strong></strong>QQ<strong><strong>消息的端口号和</strong></strong>QQ****服务器的端口号分别是多</strong>   <strong>少？</strong>   我的主机发送QQ消息的端口号4001  QQ服务器的端口号8000  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040901.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  <strong>Ø****数据报的格式是什么样的？都包含哪些字段，分别占多少字节？</strong>  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040247.gif" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1"><img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040397.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  UDP数据报由5部分构成             源端口号            4字节                  目的端口号            4字节                  长度            4字节                  校验和            4字节                  应用层数据                           <strong>Ø<strong><strong>为什么你发送一个</strong></strong>ICQ****数据包后，服务器又返回给你的主机一个</strong>   <strong>ICQ<strong><strong>数据包？这</strong></strong>UDP****的不可靠数据传输有什么联系？对比前面的</strong>   <strong>TCP<strong><strong>协议分析，你能看出</strong></strong>UDP****是无连接的吗？</strong>  1.    原因：因为我发送了ICQ数据包，服务器需要将接收到的结果通过返回ICQ数据包的方式发回给客户端  2.    联系：在UDP不可靠数据传输的机制条件，服务器只会提供一次返回的ACK，所无法保证数据一定准确到达  3.    能够看出UDP是无连接：和TCP相比，因为UDP数据包没有序列号，因此不能像TCP协议那样先进行握手再进行数据发送。            （7）利用 WireShark 进行 DNS 协议分析   （1）打开浏览器键入:<a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a>   （2）打开 Wireshark,启动抓包.   （3）在控制台回车执行完毕后停止抓包.Wireshark 捕获的 DNS 报文   如图 6-15 所示。  <strong>抓包结果：</strong>  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040481.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040902.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040951.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">          DNS协议是用来进行域名与IP地址之间的转换的。当一个应用进程需要把<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90&spm=1001.2101.3001.7020">域名解析</a>为IP地址时，该应用进程就调用解析程序，把待解析的域名在DNS请求报文中，以UDP数据报方式发送给本地域名服务器。本地域名服务器在查找域名后，把对应的IP地址放在DNS应答报文中返回  <strong>DNS****协议报文格式</strong>             Header            报文头                  Question            查询请求                  Answer            应答                  Authorrity            授权应答                  Additional            附加信息           <strong>DNS****报文头格式：</strong>共 12 个字节  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040016.gif" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="IMG_256">             事务ID            标志Flags                  问题计数            回答资源记录数                  权威名称服务器计数            附加资源记录数                  查询问题区域                  回答问题区域                  权威名称服务器区域                  附加信息区域           对应的baidu的DNS有一个请求报文，跟着一个对应的响应报文  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040166.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1">  AAAA对应的是IPV6地址  A对应的是IPV4地址  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040506.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">           查看响应报文的Answer字段  <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040568.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img">             域名            记录中资源数据对应的Name，其格式与查询Name格式相同                  类型            说明资源的类型码                  类域            该字段与问题记录的查询类型字段相同                  生存时间            字段是客户程序保留该资源记录的时间                  数据长度            该字段表示数据的长度                  数据            域名对应的IP           （8)利用 Wireshark 分析 Ethernet 数据帧         <strong>以太帧的结构</strong>  以太帧起始部分由前同步码和帧开始定界符组成，后面紧跟着一个以太网报头，以 MAC 地址说明目的地址和源地址。以太帧的中部是该帧负载的包含其他协议报头的数据包，如 IP 协议。     以太帧由一个 32 位冗余校验码结尾，用于检验数据传输是否出现损坏。以太帧结构如图所示。  <strong><img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040691.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="1"></strong>             前同步码                             用来使接收端的适配器在接收 MAC 帧时能够迅速调整时钟频率，                                     帧开始定界符            帧的起始符，为 1 个字节。前 6 位 1 和 0 交替，最后的两个连续的 1 表示告诉接收端适配器                  目的地址            接收帧的网络适配器的物理地址MAC 地址                  源地址                             发送帧的网络适配器的物理地址（MAC 地址）                                     类型                             上层协议的类型。                                     数据            也称为效载荷，表示交付给上层的数据。                  帧检验序列 FCS            检测该帧是否出现差错                    <strong>分析包含了 Http GET 数据的 Ethernet frame</strong>   <strong>可见到</strong>  <strong>Destination</strong>  <strong>Source</strong>  <strong>Type</strong>     <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040993.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img"></th>
</tr>
</thead>
<tbody><tr>
<td>问题讨论：</td>
</tr>
<tr>
<td><strong>Q1<strong><strong>为什么ping</strong></strong>一部分IP****地址抓不到对应的ARP</strong>  A1因为该IP地址已经存在于本机的ARP缓存中，所以wireshark不会再抓取到ARP  <strong>Q2<strong><strong>如何快速找到含有POST</strong></strong>的TCP****报文</strong>  A2首先再wireshark中搜索POST的HTTP，然后找到POST请求的HTTP，以此向上去查找TCP并且是PSH，ACK的这样就进一步缩小了查找范围  <strong>Q3<strong><strong>在抓包ICMP</strong></strong>时候我的最初结果均是no response</strong>   A3：换一台主机进行抓包ICMP则能够正常reply，可能是在这台主机上代理或者网络设置出现了错误  <strong>Q4<strong><strong>：抓包ICMP</strong></strong>时候本来应该出现的分片，结果只显示分片最后一片而没有展示其他分片</strong>  A4：应该在wireshark的首选项调节Reassmable fragmented Ipv4 datagtams这个选项，否则就会出现上述情况    <img src="https://farsblog.oss-cn-beijing.aliyuncs.com/PicGo/202305152040193.jpg" srcset="/shizhuofan.GitHub.io/img/loading.gif" lazyload alt="img"></td>
</tr>
<tr>
<td>心得体会：</td>
</tr>
<tr>
<td>l 对于wireshark的工具学会了如何去操作，能够熟悉了如何抓取各种数据包并且分析  l 对网络体系结构的各种协议有了进一步的认识  l 对各种的数据报和数据的传输有了更深层次的了解</td>
</tr>
</tbody></table>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/shizhuofan.GitHub.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" class="category-chain-item">计算机网络</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/shizhuofan.GitHub.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">#计算机网络</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Wireshark 的使用</div>
      <div>http://yoursite.com/2023/05/15/Wireshark 的使用/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Fars</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2023年5月15日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/shizhuofan.GitHub.io/2023/05/15/%E5%AF%B9%E5%93%88%E5%B7%A5%E5%A4%A7%E6%A0%A1%E5%9B%AD%E7%BD%91%E7%9A%84%E7%B3%BB%E7%BB%9F%E6%B5%8B%E8%AF%95/" title="对哈工大校园网的系统测试">
                        <span class="hidden-mobile">对哈工大校园网的系统测试</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/shizhuofan.GitHub.io/js/events.js" ></script>
<script  src="/shizhuofan.GitHub.io/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/shizhuofan.GitHub.io/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/shizhuofan.GitHub.io/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/shizhuofan.GitHub.io/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
